#!/usr/bin/env sloth

let debug = true
let out = Directory("${$scriptDir}/build")

if not out.exists() {
  out.create()
}

with($cwd = out.path) {
  let releaseVar = if debug {'Debug'} else {'Release'}
  [
    'cmake', $scriptDir,
    "-DCMAKE_BUILD_TYPE=${releaseVar}",
    '--toolchain', './tool/toolchain.cmake',
    '-G', 'Ninja',
  ]!
}
